---
import Layout from "@/layouts/Layout.astro"

import BlockCard from "@/components/BlockCard.astro"

import { communities } from "@/data/communities"
import { blockData } from "@/data/links"
import { i18nKeys } from "@/lib/i18n-runtime"
---

<Layout
	title="12 шагов: материалы, методы и сообщества"
	description={`Единая база о 12 шагах: статьи, практики, методы и ${communities.length} сообществ.`}
	titleKey={i18nKeys.index.meta.title}
	descriptionKey={i18nKeys.index.meta.description}
>
	<main class="mx-auto flex max-w-4xl flex-col gap-12">
		<section class="relative overflow-hidden rounded-3xl border border-[color:var(--border)] bg-[color:var(--surface)] p-8 md:p-10">
			<div class="absolute inset-0 -z-0 bg-gradient-to-br from-[color:color-mix(in_srgb,var(--primary)_16%,transparent)] via-transparent to-[color:color-mix(in_srgb,var(--secondary)_18%,transparent)]"></div>
			<div class="absolute -right-12 -top-12 -z-0 h-40 w-40 rounded-full bg-[color:color-mix(in_srgb,var(--accent)_24%,transparent)] blur-2xl"></div>
			<div class="relative z-10">
				<p class="mb-3 inline-flex rounded-full border border-[color:var(--border)] bg-[color:var(--surface)] px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[color:var(--muted)]">
					UnitOne
				</p>
				<h1>
					<span class="block text-5xl font-black md:text-7xl" data-i18n="home.titleMain">12 шагов</span>
					<span class="mt-2 block text-xl text-[color:var(--muted)] md:text-3xl" data-i18n="home.titleSub">
						Материалы, шаги и рабочие инструменты.
					</span>
				</h1>
				<p class="mt-5 max-w-3xl text-lg text-[color:var(--muted)] md:text-2xl" data-i18n="home.hero" data-i18n-param-count={String(communities.length)}>
					<b class="text-[color:var(--text)]">Полезная</b> информация, материалы,
					<b class="text-[color:var(--text)]"> методы прохождения</b> двенадцати шагов,
					<b class="text-[color:var(--text)]"> {`${communities.length}`}</b> видов сообществ и
					<b class="text-[color:var(--text)]"> многое другое</b>.
				</p>
				<div class="mt-7 flex flex-wrap gap-3">
					<a
						href="/methods"
						class="rounded-lg bg-[color:var(--primary)] px-4 py-2 text-sm font-semibold text-white hover:bg-[var(--sk-button-background-hover)] active:bg-[var(--sk-button-background-active)]"
						data-i18n="home.ctaMethods"
					>
						Начать с методов
					</a>
					<a
						href="/finder"
						class="rounded-lg border border-[color:var(--border)] bg-[color:var(--surface)] px-4 py-2 text-sm font-semibold text-[color:var(--text)] hover:border-[color:var(--primary)] hover:text-[color:var(--primary)]"
						data-i18n="home.ctaFinder"
					>
						Подобрать сообщество
					</a>
				</div>
			</div>
		</section>
		<div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
			{
				blockData &&
					blockData.map((block) => (
						<BlockCard
							key={block.link}
							link={block.link}
							title={block.title}
							titleKey={`index.card.${block.link.replace("/", "") || "home"}.title`}
							icon={block.icon}
							textBtn={block.textBtn}
							textBtnKey={`index.card.${block.link.replace("/", "") || "home"}.button`}
							description={block.description}
							descriptionKey={`index.card.${block.link.replace("/", "") || "home"}.description`}
						/>
					))
			}
		</div>

		<section class="rounded-2xl border border-[color:var(--border)] bg-[color:var(--surface)] p-6">
			<p class="text-2xl italic text-[color:var(--muted)] md:text-3xl" data-i18n="home.quote">
				Собираем знания о 12 шагах <b class="text-[color:var(--text)]">в одном месте</b>, чтобы
				каждый нашёл путь к ясности и поддержке. Это карта для тех, кто выбирает перемены и
				действия.
			</p>
			<span class="mt-3 block text-base text-[color:var(--muted)]" data-i18n="home.editorial">Редакция UnitOne</span>
		</section>
	</main>
</Layout>
