@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --font-display: "SF Pro Display", "SF Pro Text", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

@layer base {
  :root {
    --color-my-palette-primary: #4281e0;
    --color-my-palette-secondary: #7062e2;
    --color-my-palette-accent: #41ddef;
    --color-my-palette-foreground: #364050;
    --color-my-palette-background: #fafbfb;
    --bg: var(--color-my-palette-background);
    --surface: #ffffff;
    --text: var(--color-my-palette-foreground);
    --muted: #5f6b7e;
    --border: #d5deee;
    --accent: var(--color-my-palette-accent);
    --primary: var(--color-my-palette-primary);
    --secondary: var(--color-my-palette-secondary);
    --sk-button-background: var(--color-my-palette-primary);
    --sk-button-background-hover: #3a74cb;
    --sk-button-background-active: #305fab;
    --sk-blocklink-color: var(--color-my-palette-primary);
    --ring: color-mix(in srgb, var(--primary) 54%, white);
  }

  :root[data-theme="dark"] {
    --bg: #1e2735;
    --surface: #273244;
    --text: #e7eef8;
    --muted: #afbdd3;
    --border: #405471;
    --accent: color-mix(in srgb, var(--color-my-palette-accent) 82%, white);
    --sk-button-background: color-mix(in srgb, var(--color-my-palette-primary) 76%, white);
    --sk-button-background-hover: color-mix(in srgb, var(--color-my-palette-primary) 70%, white);
    --sk-button-background-active: color-mix(in srgb, var(--color-my-palette-primary) 64%, white);
    --sk-blocklink-color: color-mix(in srgb, var(--color-my-palette-accent) 72%, white);
    --ring: color-mix(in srgb, var(--primary) 45%, white);
  }

  html,
  body {
    background:
      radial-gradient(circle at 15% 0%, color-mix(in srgb, var(--primary) 12%, transparent), transparent 44%),
      linear-gradient(180deg, #ffffff 0%, var(--bg) 100%);
  }

  :root[data-theme="dark"] html,
  :root[data-theme="dark"] body {
    background:
      radial-gradient(circle at 20% 0%, color-mix(in srgb, var(--primary) 16%, transparent), transparent 46%),
      linear-gradient(180deg, color-mix(in srgb, var(--bg) 88%, black) 0%, var(--bg) 100%);
  }

  body {
    color: var(--text);
  }

  a {
    color: var(--text);
    transition: color 0.18s ease, background-color 0.18s ease, border-color 0.18s ease;
  }

  a:hover {
    color: var(--primary);
  }

  button,
  input,
  select,
  textarea {
    font: inherit;
    transition:
      color 0.18s ease,
      background-color 0.18s ease,
      border-color 0.18s ease,
      box-shadow 0.18s ease,
      opacity 0.18s ease;
  }

  button {
    @apply cursor-pointer;
  }

  button:active,
  a:active {
    opacity: 0.88;
  }

  input,
  select,
  textarea {
    background-color: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
  }

  :focus-visible {
    outline: 2px solid var(--ring);
    outline-offset: 2px;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-balance;
  }

  p {
    @apply text-pretty;
  }

  .my-prose {
    @apply prose prose-lg xl:prose-xl prose-headings:first:mt-0 prose-p:first:mt-0 prose-p:text-pretty prose-headings:text-balance max-w-6xl rounded-2xl p-6 md:p-12 sm:mx-auto -mx-[20px];
    --tw-prose-links: var(--sk-blocklink-color);
    --tw-prose-headings: var(--text);
    --tw-prose-body: var(--text);
    --tw-prose-bold: var(--text);
    --tw-prose-counters: var(--muted);
    --tw-prose-bullets: var(--muted);
    --tw-prose-quotes: var(--text);
    --tw-prose-quote-borders: var(--border);
    --tw-prose-captions: var(--muted);
    --tw-prose-code: var(--text);
    --tw-prose-pre-bg: color-mix(in srgb, var(--primary) 8%, var(--surface));
    background-color: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
  }

  .my-prose pre {
    overflow-x: auto;
    border: 1px solid color-mix(in srgb, var(--primary) 22%, white);
    border-radius: 14px 14px 14px 6px;
    background: color-mix(in srgb, var(--primary) 7%, var(--surface));
  }

  .my-prose pre code {
    display: block;
    margin-top: 0;
    color: #253a58;
    font-size: 0.9em;
    font-weight: 500;
    line-height: 1.7;
    letter-spacing: 0.005em;
    font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }

  .my-prose :not(pre) > code {
    border: 1px solid color-mix(in srgb, var(--primary) 25%, white);
    border-radius: 8px;
    background: color-mix(in srgb, var(--accent) 20%, white);
    color: #284564;
    padding: 0.12rem 0.4rem;
    font-size: 0.9em;
    font-weight: 500;
  }

  .my-prose :not(pre) > code::before,
  .my-prose :not(pre) > code::after {
    content: "";
  }
}

@layer components {
  .heading-h1 {
    @apply text-5xl font-black tracking-tight;
    color: var(--text);
  }

  .heading-h2 {
    @apply text-2xl font-bold;
    color: var(--text);
  }

  .heading-h3 {
    @apply text-xl font-medium;
    color: var(--muted);
  }
}
